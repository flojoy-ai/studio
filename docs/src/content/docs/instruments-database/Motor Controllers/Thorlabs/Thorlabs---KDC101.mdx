---
title: Connecting to Thorlabs - KDC101  by Thorlabs in Python
description: KDC101 - K-Cube Brushed DC Servo Motor Controller (Power Supply Not Included)
keywords: [lockin amplifiers, Keysight, QCodes Community] 
slug: instruments-database/Motor Controllers/Thorlabs/Thorlabs---KDC101
 

sidebar:
    label: Thorlabs - KDC101 
---

import { Tabs, TabItem } from "@astrojs/starlight/components";

## Instrument Card

KDC101 - K-Cube Brushed DC Servo Motor Controller (Power Supply Not Included) 




Device Specification: [here](https://www.thorlabs.com/_sd.cfm?fileName=ETN017655-D02.pdf&partNumber=KDC101)

<details style={{ marginTop: "15px"}}>
<summary><h2 style={{display:'inline'}}>Manufacturer card: THORLABS</h2></summary>

![THORLABS](https://res.cloudinary.com/dhopxs1y3/image/upload/v1692126009/Instruments/Vendor%20Logos/Thorlabs.png)

Thorlabs, Inc. is an American privately held optical equipment company headquartered in Newton, New Jersey. The company was founded in 1989 by Alex Cable, who serves as its current president and CEO. As of 2018, Thorlabs has annual sales of approximately $500 million.

- Headquarters: USA
- Yearly Revenue (millions, USD): 550
- Vendor Website: [here](https://www.thorlabs.com/)

</details>

import FeaturedInstrumentVideo from "@root/src/components/FeaturedInstrumentVideo";

<FeaturedInstrumentVideo
  category="MOTOR_CONTROLLERS"
  manufacturer="THORLABS"
></FeaturedInstrumentVideo>

## Connect to the Thorlabs - KDC101 in Python

[Read our guide for turning Python scripts into Flojoy nodes.](https://docs.flojoy.ai/contribution/blocks/custom-flojoy-block/)

import NodeCardCollection from "@root/src/components/NodeCardCollection";

<Tabs>

<TabItem value="Flojoy" label="Flojoy" className="flojoy-instrument-tabs">

<NodeCardCollection category='LOCKIN_AMPLIFIERS' manufacturer='KEYSIGHT'></NodeCardCollection>

</TabItem>
<TabItem value="QCodes Community" label="QCodes Community">

To connect to a Keysight (Agilent) J7211/A/B/C-Series Lockin Amplifier using Qcodes, you can use the following Python script:

```python
from qcodes.instrument.visa import VisaInstrument
from qcodes.utils.validators import Ints
from typing import Optional


class Keysight_J7211(VisaInstrument):
    r"""
    Qcodes driver for the Keysight (Agilent) J7211 Attenuation Control Unit.
    Tested with J7211B.

    Args:
        name: Instrument name
        address: Address or VISA alias of instrument
        attenuation: Optional attenuation level (in dB) to set on startup
        terminator: Termination character in VISA communication.
    """

    def __init__(self, name: str, address: str,
                 attenuation: Optional[int] = None,
                 terminator="\r", **kwargs):
        super().__init__(name=name, address=address,
                         terminator=terminator, **kwargs)

        model = self.IDN()['model']
        if model in ["J7211A", "J7211B"]:
            vals = Ints(0, 120)
        elif model in ["J7211C"]:
            vals = Ints(0, 100)
        else:
            raise RuntimeError(f"Model {model} is not supported.")

        self.add_parameter('attenuation', unit='dB',
                           set_cmd='ATT {:03.0f}',
                           get_cmd='ATT?',
                           get_parser=int,
                           vals=vals,
                           initial_value=attenuation)

        self.connect_message()
```

This script defines a class `Keysight_J7211` that inherits from `VisaInstrument` in the `qcodes.instrument.visa` module. The class represents the Keysight (Agilent) J7211 Attenuation Control Unit.

To connect to the instrument, you can create an instance of the `Keysight_J7211` class by providing the necessary arguments:

```python
instrument = Keysight_J7211(name='my_instrument', address='GPIB0::1::INSTR', attenuation=50)
```

Here, `name` is the name of the instrument, `address` is the address or VISA alias of the instrument, and `attenuation` is an optional parameter to set the attenuation level in dB on startup.

Once the instrument is created, you can access and control its parameters. For example, to get the current attenuation level, you can use:

```python
attenuation = instrument.attenuation()
```

To set a new attenuation level, you can use:

```python
instrument.attenuation(60)
```

Remember to replace `'GPIB0::1::INSTR'` with the actual address of your instrument.

</TabItem>
</Tabs>